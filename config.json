{
  "openai_api_key": "",
  "actions": [
    {
      "name": "commit-summary",
      "description": "Look at all commit messages in some block of time and use a LLM to summarize them.",
      "steps": [
        {
          "name": "git-log",
          "description": "Log all commit message (one line) since some given commit.",
          "type": "shell",
          "params": [
            {
              "name": "commit",
              "description": "The commit hash to start looking at commit messages",
              "type": "string",
              "default": null
            }
          ],
          "value": "git log {{commit}}..HEAD --pretty=oneline"
        },
        {
          "name": "summarize-logs",
          "description": "Summarize git logs using an LLM.",
          "type": "llm",
          "params": [
            {
              "name": "guidelines",
              "description": "Summary guidelines describing the desired format of the summary.",
              "type": "string",
              "default": null
            }
          ],
          "value": "## Git Log Results\n{{@git-log}}\n\n## Instructions\n\nSummarize the above commit messages according to the following guidelines.\n\n## Guidelines\n{{guidelines}}"
        }
      ]
    },
    {
      "name": "commit-changes",
      "description": "Generate a commit message for staged changes and commit.",
      "steps": [
        {
          "name": "diff",
          "description": "Git diff all staged changes",
          "type": "shell",
          "params": [],
          "value": "git diff --staged"
        },
        {
          "name": "generate-message",
          "description": "Generate a commit message based on unstaged code changes using an LLM.",
          "type": "llm",
          "params": [],
          "value": "## Git Diff Result\n{{@diff}}\n\n## Instructions\nAbove is the `git diff` of my staged code changes. Please generate a commit message that adheres to these guidelines.\n\n## Guidelines\nFollow conventional commit format:\n- Use imperative mood (e.g., \"Add feature\" not \"Added feature\")\n- Keep the message one line in length concise (10-20 words)\n- Start with a type prefix: feat:, fix:, docs:, style:, refactor:, test:, chore:\n\nExamples:\nfeat: Add user authentication with OAuth2\nfix: Resolve memory leak in data processing\ndocs: Update API documentation for v2\nrefactor: Simplify validation logic\n\n##Response Format\nRespond only with the final commit message."
        },
        {
          "name": "commit",
          "description": "Commit changes with a provided commit message.",
          "type": "shell",
          "params": [],
          "value": "git commit -m \"{{@generate-message}}\"",
          "confirm": true
        }
      ]
    }
  ]
}
